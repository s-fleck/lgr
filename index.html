<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>A Fully Featured Logging Framework • lgr</title>
<script src="lightswitch.js"></script><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="A Fully Featured Logging Framework">
<meta name="description" content="A flexible, feature-rich yet light-weight logging framework based on R6 classes. It supports hierarchical loggers, custom log levels, arbitrary data fields in log events, logging to plaintext, JSON, (rotating) files, memory buffers. For extra appenders that support logging to databases, email and push notifications see the the package lgr.app.">
<meta property="og:description" content="A flexible, feature-rich yet light-weight logging framework based on R6 classes. It supports hierarchical loggers, custom log levels, arbitrary data fields in log events, logging to plaintext, JSON, (rotating) files, memory buffers. For extra appenders that support logging to databases, email and push notifications see the the package lgr.app.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">lgr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.5.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="articles/lgr.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/s-fleck/lgr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="lgr">lgr<a class="anchor" aria-label="anchor" href="#lgr"></a>
</h1></div>
<p><a href="https://cran.r-project.org/package=lgr" class="external-link"><img src="https://www.r-pkg.org/badges/version/lgr" alt="CRAN status"></a> <a href="https://lifecycle.r-lib.org/articles/stages.html" class="external-link"><img src="https://img.shields.io/badge/lifecycle-stable-green.svg" alt="Lifecycle: maturing"></a></p>
<p>lgr is a logging package for R built on the back of <a href="https://github.com/r-lib/R6" class="external-link">R6</a> classes. It is designed to be flexible, performant and extensible. The package <a href="https://s-fleck.github.io/lgr/articles/lgr.html">vignette</a> contains a comprehensive description of the features of lgr (some of them unique among R logging packages) along with many code examples.</p>
<p>Users that have not worked with R6 classes before, will find configuring Loggers a bit strange and verbose, but care was taken to keep the syntax for common logging tasks and interactive usage simple and concise. User that have experience with <a href="https://github.com/rstudio/shiny" class="external-link">shiny</a>, <a href="https://github.com/rstudio/plumber" class="external-link">plumber</a>, <a href="https://docs.python.org/3/library/logging.html" class="external-link">python logging</a> or <a href="https://logging.apache.org/log4j/2.x/" class="external-link">Apache Log4j</a> will feel at home. User that are proficient with R6 classes will also find it easy to extend and customize lgr, for example with their own appenders Loggers or Appenders.</p>
<div class="section level2">
<h2 id="features">Features<a class="anchor" aria-label="anchor" href="#features"></a>
</h2>
<ul>
<li>
<em>Hierarchical loggers</em> like in log4j and python logging. This is useful if you want to be able to configure logging on a per-package basis.</li>
<li>An <em>arbitrary number of appenders</em> for each logger. A single logger can write to the console, a logfile, a database, etc… .</li>
<li>Support for structured logging. As opposed to many other logging packages for R a log event is not just a message with a timestamp, but an object that can contain arbitrary data fields. This is useful for producing machine readable logs.</li>
<li>
<em>Vectorized</em> logging (so <code>lgr$fatal(capture.output(iris))</code> works)</li>
<li>Lightning fast <em>in-memory logs</em> for interactive use.</li>
<li>Appenders that write logs to a wide range of destinations:
<ul>
<li>databases (buffered or directly)</li>
<li>email or pushbullet</li>
<li>plaintext files (with a powerful formatting syntax)</li>
<li>JSON files with arbitrary data fields</li>
<li>Rotating files that are reset and backed-up after they reach a certain file size or age</li>
<li>memory buffers</li>
<li>(colored) console output</li>
</ul>
</li>
<li>Optional support to use <a href="https://glue.tidyverse.org/" class="external-link">glue</a> instead of <code><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf()</a></code> for composing log messages.</li>
</ul>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<p>To log an <em>event</em> with with lgr we call <code>lgr$&lt;logging function&gt;()</code>. Unnamed arguments to the logging function are interpreted by <code><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf()</a></code>. For a way to create loggers that <a href="https://glue.tidyverse.org/" class="external-link">glue</a> instead please refer to the vignette.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lgr</span><span class="op">$</span><span class="fu">fatal</span><span class="op">(</span><span class="st">"A critical error"</span><span class="op">)</span></span>
<span><span class="co">#&gt; FATAL [11:32:48.843] A critical error</span></span>
<span><span class="va">lgr</span><span class="op">$</span><span class="fu">error</span><span class="op">(</span><span class="st">"A less severe error"</span><span class="op">)</span></span>
<span><span class="co">#&gt; ERROR [11:32:48.864] A less severe error</span></span>
<span><span class="va">lgr</span><span class="op">$</span><span class="fu">warn</span><span class="op">(</span><span class="st">"A potentially bad situation"</span><span class="op">)</span></span>
<span><span class="co">#&gt; WARN  [11:32:48.868] A potentially bad situation</span></span>
<span><span class="va">lgr</span><span class="op">$</span><span class="fu">info</span><span class="op">(</span><span class="st">"iris has %s rows"</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">iris</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; INFO  [11:32:48.869] iris has 150 rows</span></span>
<span></span>
<span><span class="co"># the following log levels are hidden by default</span></span>
<span><span class="va">lgr</span><span class="op">$</span><span class="fu">debug</span><span class="op">(</span><span class="st">"A debug message"</span><span class="op">)</span></span>
<span><span class="va">lgr</span><span class="op">$</span><span class="fu">trace</span><span class="op">(</span><span class="st">"A finer grained debug message"</span><span class="op">)</span></span></code></pre></div>
<p>A Logger can have several Appenders. For example, we can add a JSON appender to log to a file with little effort.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tf</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">lgr</span><span class="op">$</span><span class="fu">add_appender</span><span class="op">(</span><span class="va"><a href="reference/AppenderFile.html">AppenderFile</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">tf</span>, layout <span class="op">=</span> <span class="va"><a href="reference/LayoutJson.html">LayoutJson</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">lgr</span><span class="op">$</span><span class="fu">info</span><span class="op">(</span><span class="st">"cars has %s rows"</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">cars</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; INFO  [11:32:48.878] cars has 50 rows</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/readLines.html" class="external-link">readLines</a></span><span class="op">(</span><span class="va">tf</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; {"level":400,"timestamp":"2025-07-13 11:32:48","logger":"root","caller":"eval","msg":"cars has 50 rows","rawMsg":"cars has %s rows"}</span></span></code></pre></div>
<p>By passing a named argument to the log function, you can log not only text but arbitrary R objects. Not all appenders support structured logging perfectly, but JSON does. This way you can create logfiles that are machine as well as (somewhat) human readable.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lgr</span><span class="op">$</span><span class="fu">info</span><span class="op">(</span><span class="st">"loading %s"</span>, <span class="st">"cars"</span>, rows <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">cars</span><span class="op">)</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">cars</span><span class="op">)</span>, vector <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; INFO  [11:32:48.893] loading cars {rows: `50`, cols: `2`, vector: (1, 2, 3)}</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/readLines.html" class="external-link">readLines</a></span><span class="op">(</span><span class="va">tf</span><span class="op">)</span>, sep <span class="op">=</span> <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; {"level":400,"timestamp":"2025-07-13 11:32:48","logger":"root","caller":"eval","msg":"cars has 50 rows","rawMsg":"cars has %s rows"}</span></span>
<span><span class="co">#&gt; {"level":400,"timestamp":"2025-07-13 11:32:48","logger":"root","caller":"eval","msg":"loading cars","rawMsg":"loading %s","rows":50,"cols":2,"vector":[1,2,3]}</span></span></code></pre></div>
<p>For more examples please see the package <a href="https://s-fleck.github.io/lgr/articles/lgr.html">vignette</a> and <a href="https://s-fleck.github.io/lgr/">documentation</a></p>
</div>
<div class="section level2">
<h2 id="see-lgr-in-action">See lgr in action<a class="anchor" aria-label="anchor" href="#see-lgr-in-action"></a>
</h2>
<p>lgr is used to govern console output in my shiny based csv editor <a href="https://github.com/s-fleck/shed" class="external-link">shed</a></p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("remotes")</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"s-fleck/shed"</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">shed</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># log only output from the "shed" logger to a file</span></span>
<span><span class="va">logfile</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu">lgr</span><span class="fu">::</span><span class="fu"><a href="reference/get_logger.html">get_logger</a></span><span class="op">(</span><span class="st">"shed"</span><span class="op">)</span><span class="op">$</span><span class="fu">add_appender</span><span class="op">(</span><span class="va"><a href="reference/AppenderFile.html">AppenderFile</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">logfile</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu">lgr</span><span class="fu">::</span><span class="fu"><a href="reference/simple_logging.html">threshold</a></span><span class="op">(</span><span class="st">"all"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># edit away and watch the rstudio console!</span></span>
<span><span class="va">lgr</span><span class="op">$</span><span class="fu">info</span><span class="op">(</span><span class="st">"starting shed"</span><span class="op">)</span></span>
<span><span class="fu">shed</span><span class="op">(</span><span class="va">iris</span><span class="op">)</span>  </span>
<span><span class="va">lgr</span><span class="op">$</span><span class="fu">info</span><span class="op">(</span><span class="st">"this will not end up in the log file"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/readLines.html" class="external-link">readLines</a></span><span class="op">(</span><span class="va">logfile</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># cleanup</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.remove</a></span><span class="op">(</span><span class="va">logfile</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="development-status">Development status<a class="anchor" aria-label="anchor" href="#development-status"></a>
</h2>
<p>lgr is stable and safe for use. I’ve been using it in production code for several years myself. There has been very little recent development because it’s pretty stable and contains (nearly) all planned features.</p>
<p>Notable points that are still planned (without specific ETA):</p>
<ul>
<li><p>Support for config files is heavily experimental and incomplete. This is an important basic feature, but I have not yet found a great way to support this in a generic way. For now, I recommend you come up with your own solution if you need to lgr to work in a production environment that relies on config files.</p></li>
<li><p>Improve the documentation. The documentation should be mostly complete, but is not perfect. If there’s something missing or something you don’t understand, please ask (for example via a github issue).</p></li>
</ul>
</div>
<div class="section level2">
<h2 id="dependencies">Dependencies<a class="anchor" aria-label="anchor" href="#dependencies"></a>
</h2>
<p><a href="https://github.com/r-lib/R6" class="external-link">R6</a>: The R6 class system provides the framework on which lgr is built and the <strong>only Package lgr will ever depend on</strong>. If you are a <strong>package developer</strong> and want to add logging to your package, this is the only transitive dependency you have to worry about, as configuring of the loggers should be left to the user of your package.</p>
<div class="section level3">
<h3 id="optional-dependencies">Optional dependencies<a class="anchor" aria-label="anchor" href="#optional-dependencies"></a>
</h3>
<p>lgr comes with a long list of optional dependencies that make a wide range of appenders possible. You only need the dependencies for the Appenders you actually want to use. Care was taken to choose packages that are slim, stable, have minimal dependencies, and are well maintained :</p>
<p>Extra appenders (in the main package):</p>
<ul>
<li><p><a href="https://github.com/jeroen/jsonlite" class="external-link">jsonlite</a> for JSON logging via <code>LayoutJson</code>. JSON is a popular plaintext based file format that is easy to read for humans and machines alike.</p></li>
<li><p><a href="https://github.com/s-fleck/rotor" class="external-link">rotor</a> for log rotation via AppenderFileRotating and co.</p></li>
<li><p><a href="https://github.com/Rdatatable/" class="external-link">data.table</a> for fast in-memory logging with <code>AppenderDt</code>, and also by all database / DBI Appenders.</p></li>
<li><p><a href="https://glue.tidyverse.org/" class="external-link">glue</a> for a more flexible formatting syntax via LoggerGlue and LayoutGlue.</p></li>
</ul>
<p>Extra appenders via lgrExtra:</p>
<ul>
<li>For support for Elasticsearch, Dynatrace, Push- and Email notifications, etc… as well as the relevant dependencies please refer to the documentation of <a href="https://github.com/s-fleck/lgrExtra" class="external-link">lgrExtra</a>
</li>
</ul>
<p>Other extra features:</p>
<ul>
<li>
<a href="https://CRAN.R-project.org/package=yaml" class="external-link">yaml</a> for configuring loggers via YAML files (experimental)</li>
<li>
<a href="https://github.com/r-lib/crayon" class="external-link">crayon</a> for colored console output.<br>
</li>
<li>
<a href="https://github.com/r-lib/whoami/blob/master/DESCRIPTION" class="external-link">whoami</a> for guessing the user name from various sources. You can also set the user name manually if you want to use it for logging.</li>
<li>
<a href="https://CRAN.R-project.org/package=desc" class="external-link">desc</a> for the package development convenience function <code><a href="reference/use_logger.html">use_logger()</a></code>
</li>
<li>
<a href="https://CRAN.R-project.org/package=cli" class="external-link">cli</a> for printing the tree structure of registered loggers with <code><a href="reference/logger_tree.html">logger_tree()</a></code>
</li>
</ul>
<p>Other <code>Suggests</code> (<a href="https://CRAN.R-project.org/package=future" class="external-link">future</a>, <a href="https://CRAN.R-project.org/package=future.apply" class="external-link">future.apply</a>) do not provide extra functionality but had to be included for some of the automated unit tests run by lgr.</p>
</div>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install lgr from CRAN</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"lgr"</span><span class="op">)</span></span></code></pre></div>
<p>Or you can install the current development version directly from github</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#install.packages("remotes")</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"s-fleck/lgr"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="outlook">Outlook<a class="anchor" aria-label="anchor" href="#outlook"></a>
</h2>
<p>The long term goal is to support (nearly) all features of the python logging module. If you have experience with python logging or Log4j and are missing features/appenders that you’d like to see, please feel free to post a feature request on the issue tracker.</p>
</div>
<div class="section level2">
<h2 id="acknowledgement">Acknowledgement<a class="anchor" aria-label="anchor" href="#acknowledgement"></a>
</h2>
<ul>
<li>
<a href="https://app.diagrams.net/" class="external-link">diagrams.net</a> for the flow chart in the vignette</li>
</ul>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=lgr" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/s-fleck/lgr/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/s-fleck/lgr/issues/" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing lgr</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Stefan Fleck <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0003-3344-9851" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Stefan Fleck.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
