<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Simple Logging — simple_logging • lgr</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Simple Logging — simple_logging"><meta name="description" content="lgr provides convenience functions managing the root Logger. These are
designed chiefly for interactive use and are less verbose than their
R6 method counterparts.
threshold() sets or retrieves the threshold for an Appender or Logger
(the minimum level of log messages it processes). It's target defaults to
the root logger. (equivalent to lgr::lgr$threshold and
lgr::lgr$set_threshold)
console_threshold() is a shortcut to set the threshold of the root
loggers AppenderConsole, which is usually the only Appender that manages
console output for a given R session. (equivalent to
lgr::lgr$appenders$console$threshold and
lgr::lgr$appenders$console$set_threshold)
add_appender() and remove_appender() add Appenders to Loggers and other
Appenders. (equivalent to lgr::lgr$add_appender and
lgr::lgr$remove_appender)
show_log() displays the last n log entries of an Appender (or a Logger
with such an Appender attached) with a $show() method. Most, but not all
Appenders support this function (try AppenderFile or AppenderBuffer).
show_data() and show_dt() work similar to show_log(), except that
they return the log as data.frame or data.table respectively. Only
Appenders that log to formats that can easily be converted to data.frames
are supported (try AppenderJson or AppenderBuffer).
The easiest way to try out this features is by adding an AppenderBuffer
to the root logger with basic_config(memory = TRUE)."><meta property="og:description" content="lgr provides convenience functions managing the root Logger. These are
designed chiefly for interactive use and are less verbose than their
R6 method counterparts.
threshold() sets or retrieves the threshold for an Appender or Logger
(the minimum level of log messages it processes). It's target defaults to
the root logger. (equivalent to lgr::lgr$threshold and
lgr::lgr$set_threshold)
console_threshold() is a shortcut to set the threshold of the root
loggers AppenderConsole, which is usually the only Appender that manages
console output for a given R session. (equivalent to
lgr::lgr$appenders$console$threshold and
lgr::lgr$appenders$console$set_threshold)
add_appender() and remove_appender() add Appenders to Loggers and other
Appenders. (equivalent to lgr::lgr$add_appender and
lgr::lgr$remove_appender)
show_log() displays the last n log entries of an Appender (or a Logger
with such an Appender attached) with a $show() method. Most, but not all
Appenders support this function (try AppenderFile or AppenderBuffer).
show_data() and show_dt() work similar to show_log(), except that
they return the log as data.frame or data.table respectively. Only
Appenders that log to formats that can easily be converted to data.frames
are supported (try AppenderJson or AppenderBuffer).
The easiest way to try out this features is by adding an AppenderBuffer
to the root logger with basic_config(memory = TRUE)."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">lgr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.5.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/lgr.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/s-fleck/lgr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Simple Logging</h1>
      <small class="dont-index">Source: <a href="https://github.com/s-fleck/lgr/blob/master/R/simple_logging.R" class="external-link"><code>R/simple_logging.R</code></a></small>
      <div class="d-none name"><code>simple_logging.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>lgr provides convenience functions managing the root Logger. These are
designed chiefly for interactive use and are less verbose than their
R6 method counterparts.</p>
<p><code>threshold()</code> sets or retrieves the threshold for an <a href="Appender.html">Appender</a> or <a href="Logger.html">Logger</a>
(the minimum level of log messages it processes). It's <code>target</code> defaults to
the root logger. (equivalent to <code>lgr::lgr$threshold</code> and
<code>lgr::lgr$set_threshold</code>)</p>
<p><code>console_threshold()</code> is a shortcut to set the threshold of the root
loggers <a href="AppenderConsole.html">AppenderConsole</a>, which is usually the only Appender that manages
console output for a given <span style="R">R</span> session. (equivalent to
<code>lgr::lgr$appenders$console$threshold</code> and
<code>lgr::lgr$appenders$console$set_threshold</code>)</p>
<p><code>add_appender()</code> and <code>remove_appender()</code> add Appenders to Loggers and other
Appenders. (equivalent to <code>lgr::lgr$add_appender</code> and
<code>lgr::lgr$remove_appender</code>)</p>
<p><code>show_log()</code> displays the last <code>n</code> log entries of an Appender (or a Logger
with such an Appender attached) with a <code>$show()</code> method. Most, but not all
Appenders support this function (try <a href="AppenderFile.html">AppenderFile</a> or <a href="AppenderBuffer.html">AppenderBuffer</a>).</p>
<p><code>show_data()</code> and <code>show_dt()</code> work similar to <code>show_log()</code>, except that
they return the log as <code>data.frame</code> or <code>data.table</code> respectively. Only
Appenders that log to formats that can easily be converted to <code>data.frames</code>
are supported (try <a href="AppenderFile.html">AppenderJson</a> or <a href="AppenderBuffer.html">AppenderBuffer</a>).</p>
<p>The easiest way to try out this features is by adding an AppenderBuffer
to the root logger with <code><a href="basic_config.html">basic_config(memory = TRUE)</a></code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">log_exception</span><span class="op">(</span><span class="va">code</span>, logfun <span class="op">=</span> <span class="va">lgr</span><span class="op">$</span><span class="va">fatal</span>, caller <span class="op">=</span> <span class="fu"><a href="system_infos.html">get_caller</a></span><span class="op">(</span><span class="op">-</span><span class="fl">3</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">threshold</span><span class="op">(</span><span class="va">level</span>, target <span class="op">=</span> <span class="fu">lgr</span><span class="fu">::</span><span class="va"><a href="lgr-package.html">lgr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu">console_threshold</span><span class="op">(</span><span class="va">level</span>, target <span class="op">=</span> <span class="fu">lgr</span><span class="fu">::</span><span class="va"><a href="lgr-package.html">lgr</a></span><span class="op">$</span><span class="va">appenders</span><span class="op">$</span><span class="va">console</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">add_appender</span><span class="op">(</span><span class="va">appender</span>, name <span class="op">=</span> <span class="cn">NULL</span>, target <span class="op">=</span> <span class="fu">lgr</span><span class="fu">::</span><span class="va"><a href="lgr-package.html">lgr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu">remove_appender</span><span class="op">(</span><span class="va">pos</span>, target <span class="op">=</span> <span class="fu">lgr</span><span class="fu">::</span><span class="va"><a href="lgr-package.html">lgr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu">show_log</span><span class="op">(</span>threshold <span class="op">=</span> <span class="cn">NA_integer_</span>, n <span class="op">=</span> <span class="fl">20L</span>, target <span class="op">=</span> <span class="fu">lgr</span><span class="fu">::</span><span class="va"><a href="lgr-package.html">lgr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu">show_dt</span><span class="op">(</span>target <span class="op">=</span> <span class="fu">lgr</span><span class="fu">::</span><span class="va"><a href="lgr-package.html">lgr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu">show_data</span><span class="op">(</span>target <span class="op">=</span> <span class="fu">lgr</span><span class="fu">::</span><span class="va"><a href="lgr-package.html">lgr</a></span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-code">code<a class="anchor" aria-label="anchor" href="#arg-code"></a></dt>
<dd><p>Any <span style="R">R</span> code</p></dd>


<dt id="arg-logfun">logfun<a class="anchor" aria-label="anchor" href="#arg-logfun"></a></dt>
<dd><p>a <code>function</code> for processing the log request, usually
<code>lgr$info()</code>, <code>lgr$debug()</code>, etc... .</p></dd>


<dt id="arg-caller">caller<a class="anchor" aria-label="anchor" href="#arg-caller"></a></dt>
<dd><p>a <code>character</code> scalar. The name of the calling function</p></dd>


<dt id="arg-level">level<a class="anchor" aria-label="anchor" href="#arg-level"></a></dt>
<dd><p><code>integer</code> or <code>character</code> scalar: the desired log level</p></dd>


<dt id="arg-target">target<a class="anchor" aria-label="anchor" href="#arg-target"></a></dt>
<dd><p>a <a href="Logger.html">Logger</a> or <a href="Appender.html">Appender</a> or the name of a Logger as <code>character</code>
scalar</p></dd>


<dt id="arg-appender">appender<a class="anchor" aria-label="anchor" href="#arg-appender"></a></dt>
<dd><p>an <code>Appender</code></p></dd>


<dt id="arg-name">name<a class="anchor" aria-label="anchor" href="#arg-name"></a></dt>
<dd><p><code>character</code> scalar. An optional name for the new Appender.</p></dd>


<dt id="arg-pos">pos<a class="anchor" aria-label="anchor" href="#arg-pos"></a></dt>
<dd><p><code>integer</code> index or <code>character</code> names of the appenders to remove</p></dd>


<dt id="arg-threshold">threshold<a class="anchor" aria-label="anchor" href="#arg-threshold"></a></dt>
<dd><p><code>character</code> or <code>integer</code> scalar. The minimum <a href="get_log_levels.html">log level</a> that should be processed by the root logger.</p></dd>


<dt id="arg-n">n<a class="anchor" aria-label="anchor" href="#arg-n"></a></dt>
<dd><p><code>integer</code> scalar. Show only the last <code>n</code> log entries that match
<code>threshold</code></p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>threshold()</code> and <code>console_threshold()</code> return the <a href="get_log_levels.html">log_level</a> of <code>target</code>
as <code>integer</code> (invisibly)</p>
<p><code>add_appender()</code> and <code>remove_appender()</code> return <code>target</code>.</p>
<p><code>show_log()</code> prints to the console and returns whatever the target
Appender's <code>$show()</code> method returns, usually a <code>character</code> vector,
<code>data.frame</code> or <code>data.table</code> (invisibly).</p>
<p><code>show_data()</code> always returns a <code>data.frame</code> and <code>show_dt()</code> always returns
a <code>data.table</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Get and set the threshold of the root logger</span></span></span>
<span class="r-in"><span><span class="fu">threshold</span><span class="op">(</span><span class="st">"error"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">threshold</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 200</span>
<span class="r-in"><span><span class="va">lgr</span><span class="op">$</span><span class="fu">info</span><span class="op">(</span><span class="st">"this will be supressed"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">lgr</span><span class="op">$</span><span class="fu">error</span><span class="op">(</span><span class="st">"an important error message"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ERROR [13:41:55.908] an important error message</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># you can also specify a target to modify other loggers</span></span></span>
<span class="r-in"><span><span class="va">lg</span> <span class="op">&lt;-</span> <span class="fu"><a href="get_logger.html">get_logger</a></span><span class="op">(</span><span class="st">"test"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">threshold</span><span class="op">(</span><span class="st">"fatal"</span>, target <span class="op">=</span> <span class="va">lg</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">threshold</span><span class="op">(</span>target <span class="op">=</span> <span class="va">lg</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 100</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># If a Logger's threshold is not set, the threshold is inherited from</span></span></span>
<span class="r-in"><span><span class="co"># its parent, in this case the root logger (that we set to error/200 before)</span></span></span>
<span class="r-in"><span><span class="fu">threshold</span><span class="op">(</span><span class="cn">NULL</span>, target <span class="op">=</span> <span class="va">lg</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">threshold</span><span class="op">(</span>target <span class="op">=</span> <span class="va">lg</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 200</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Alternative R6 API for getting/setting thresholds</span></span></span>
<span class="r-in"><span><span class="va">lg</span><span class="op">$</span><span class="fu">set_threshold</span><span class="op">(</span><span class="st">"info"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">lg</span><span class="op">$</span><span class="va">threshold</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 400</span>
<span class="r-in"><span><span class="va">lg</span><span class="op">$</span><span class="fu">set_threshold</span><span class="op">(</span><span class="fl">300</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">lg</span><span class="op">$</span><span class="va">threshold</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 300</span>
<span class="r-in"><span><span class="va">lg</span><span class="op">$</span><span class="fu">set_threshold</span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">lg</span><span class="op">$</span><span class="va">threshold</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 200</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># cleanup</span></span></span>
<span class="r-in"><span><span class="va">lgr</span><span class="op">$</span><span class="fu">config</span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;LoggerRoot&gt; [info] root</span>
<span class="r-in"><span><span class="va">lg</span><span class="op">$</span><span class="fu">config</span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;Logger&gt; [info] test</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># add Appenders to a Logger</span></span></span>
<span class="r-in"><span><span class="fu">add_appender</span><span class="op">(</span><span class="va"><a href="AppenderConsole.html">AppenderConsole</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span>, <span class="st">"second_console_appender"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">lgr</span><span class="op">$</span><span class="fu">fatal</span><span class="op">(</span><span class="st">"Multiple console appenders are a bad idea"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> FATAL [13:41:55.918] Multiple console appenders are a bad idea</span>
<span class="r-in"><span><span class="fu">remove_appender</span><span class="op">(</span><span class="st">"second_console_appender"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">lgr</span><span class="op">$</span><span class="fu">info</span><span class="op">(</span><span class="st">"Good that we defined an appender name, so it's easy to remove"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Reconfigure the root logger</span></span></span>
<span class="r-in"><span><span class="fu"><a href="basic_config.html">basic_config</a></span><span class="op">(</span>memory <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;LoggerRoot&gt; [info] root</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> appenders:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   console: &lt;AppenderConsole&gt; [all] -&gt; console</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   memory : &lt;AppenderBuffer&gt;  [all] -&gt; 0 child Appenders</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># log some messages</span></span></span>
<span class="r-in"><span><span class="va">lgr</span><span class="op">$</span><span class="fu">info</span><span class="op">(</span><span class="st">"a log message"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> INFO  [13:41:55.923] a log message</span>
<span class="r-in"><span><span class="va">lgr</span><span class="op">$</span><span class="fu">info</span><span class="op">(</span><span class="st">"another message with data"</span>, data <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> INFO  [13:41:55.925] another message with data {data: (1, 2, 3)}</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">show_log</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> INFO  [13:41:55] a log message</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> INFO  [13:41:55] another message with data</span>
<span class="r-in"><span><span class="fu">show_data</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   level           timestamp logger caller                       msg</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   400 2026-01-30 13:41:55   root   eval             a log message</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2   400 2026-01-30 13:41:55   root   eval another message with data</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                      rawMsg    data</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1             a log message    NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 another message with data 1, 2, 3</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># cleanup</span></span></span>
<span class="r-in"><span><span class="va">lgr</span><span class="op">$</span><span class="fu">config</span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;LoggerRoot&gt; [info] root</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Stefan Fleck.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

